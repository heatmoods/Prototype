<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - To-Go Healthy Meals</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="index.html">To-Go Healthy Meals</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Dashboard</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                            Menu
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="products.html">All Products</a></li>
                            <li><a class="dropdown-item" href="products.html">Breakfast</a></li>
                            <li><a class="dropdown-item" href="products.html">Lunch</a></li>
                            <li><a class="dropdown-item" href="products.html">Dinner</a></li>
                            <li><a class="dropdown-item" href="products.html">Snacks</a></li>
                            <li><a class="dropdown-item" href="products.html">Drinks</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cart.html">Cart</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="orders.html">My Orders</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown">
                            Admin
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="inventory.html">Inventory Management</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container py-5">
        <h1 class="mb-4">Checkout</h1>
        
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="cart.html">Cart</a></li>
                <li class="breadcrumb-item active" aria-current="page">Checkout</li>
            </ol>
        </nav>
        
        <div class="row">
            <div class="col-lg-8">
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Shipping Information</h5>
                    </div>
                    <div class="card-body">
                        <form id="shippingForm">
                            <div class="row mb-3">
                                <div class="col-md-6 mb-3 mb-md-0">
                                    <label for="firstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control" id="firstName" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="lastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" required>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="address" class="form-label">Address</label>
                                <input type="text" class="form-control" id="address" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="address2" class="form-label">Address 2 <span class="text-muted">(Optional)</span></label>
                                <input type="text" class="form-control" id="address2">
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-5 mb-3 mb-md-0">
                                    <label for="city" class="form-label">City</label>
                                    <input type="text" class="form-control" id="city" required>
                                </div>
                                <div class="col-md-4 mb-3 mb-md-0">
                                    <label for="state" class="form-label">State</label>
                                    <select class="form-select" id="state" required>
                                        <option value="">Choose...</option>
                                        <option>California</option>
                                        <option>New York</option>
                                        <!-- Other states -->
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label for="zip" class="form-label">Zip</label>
                                    <input type="text" class="form-control" id="zip" required>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone Number</label>
                                <input type="tel" class="form-control" id="phone" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="deliveryDate" class="form-label">Preferred Delivery Date</label>
                                <input type="date" class="form-control" id="deliveryDate" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="notes" class="form-label">Delivery Instructions <span class="text-muted">(Optional)</span></label>
                                <textarea class="form-control" id="notes" rows="3"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Payment Method</h5>
                    </div>
                    <div class="card-body">
                        <form id="paymentForm">
                            <!-- Credit Card Option -->
                            <div class="form-check mb-3">
                                <input class="form-check-input payment-method" type="radio" name="paymentMethod" id="creditCard" checked data-target="creditCardFields">
                                <label class="form-check-label" for="creditCard">
                                    <i class="bi bi-credit-card me-2"></i>Credit or Debit Card
                                </label>
                            </div>
                            
                            <div id="creditCardFields" class="payment-method-fields">
                                <div class="mb-3">
                                    <label for="cardName" class="form-label">Name on Card</label>
                                    <input type="text" class="form-control" id="cardName" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="cardNumber" class="form-label">Card Number</label>
                                    <input type="text" class="form-control" id="cardNumber" placeholder="XXXX XXXX XXXX XXXX" required>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="expiration" class="form-label">Expiration</label>
                                        <input type="text" class="form-control" id="expiration" placeholder="MM/YY" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="cvv" class="form-label">CVV</label>
                                        <input type="text" class="form-control" id="cvv" placeholder="123" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between">
                                        <div><img src="https://via.placeholder.com/40x25?text=Visa" alt="Visa"></div>
                                        <div><img src="https://via.placeholder.com/40x25?text=MC" alt="Mastercard"></div>
                                        <div><img src="https://via.placeholder.com/40x25?text=Amex" alt="American Express"></div>
                                        <div><img src="https://via.placeholder.com/40x25?text=Discover" alt="Discover"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- PayPal Option -->
                            <div class="form-check mb-3">
                                <input class="form-check-input payment-method" type="radio" name="paymentMethod" id="paypal" data-target="paypalFields">
                                <label class="form-check-label" for="paypal">
                                    <i class="bi bi-paypal me-2"></i>PayPal
                                </label>
                            </div>
                            
                            <div id="paypalFields" class="payment-method-fields d-none">
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle me-2"></i>
                                    You will be redirected to PayPal to complete your payment securely.
                                </div>
                                <div class="text-center mb-3">
                                    <img src="https://via.placeholder.com/200x60?text=PayPal+Logo" alt="PayPal">
                                </div>
                            </div>
                            
                            <!-- Pay in 4 Option -->
                            <div class="form-check mb-3">
                                <input class="form-check-input payment-method" type="radio" name="paymentMethod" id="payIn4" data-target="payIn4Fields">
                                <label class="form-check-label" for="payIn4">
                                    <i class="bi bi-calendar-week me-2"></i>Pay in 4 installments
                                    <span class="badge bg-info ms-2">Interest-free</span>
                                </label>
                            </div>
                            
                            <div id="payIn4Fields" class="payment-method-fields d-none">
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle me-2"></i>
                                    Split your payment into 4 interest-free installments.
                                </div>
                                <div class="card mb-3">
                                    <div class="card-body p-3">
                                        <h6 class="mb-3">Payment Schedule</h6>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>Today</div>
                                            <div>$6.47</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>In 2 weeks</div>
                                            <div>$6.47</div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <div>In 4 weeks</div>
                                            <div>$6.47</div>
                                        </div>
                                        <div class="d-flex justify-content-between">
                                            <div>In 6 weeks</div>
                                            <div>$6.48</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="payIn4Terms" required>
                                    <label class="form-check-label" for="payIn4Terms">
                                        I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Pay in 4 terms</a>
                                    </label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="card checkout-summary">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Order Summary</h5>
                    </div>
                    <div class="card-body">
                        <dl class="row">
                            <dt class="col-6">Items (2):</dt>
                            <dd class="col-6 text-end">$23.97</dd>
                            
                            <dt class="col-6">Tax (8%):</dt>
                            <dd class="col-6 text-end">$1.92</dd>
                            
                            <dt class="col-6">Shipping:</dt>
                            <dd class="col-6 text-end">$0.00</dd>
                        </dl>
                        
                        <hr>
                        
                        <dl class="row mb-0">
                            <dt class="col-6"><strong>Total:</strong></dt>
                            <dd class="col-6 text-end"><strong>$25.89</strong></dd>
                        </dl>
                    </div>
                    <div class="card-footer">
                        <button type="button" class="btn btn-primary w-100" id="submitOrder">
                            <i class="bi bi-lock-fill me-2"></i>Place Order
                        </button>
                        <p class="text-muted small text-center mt-3 mb-0">
                            <i class="bi bi-shield-lock me-1"></i>
                            Secure transaction. Your information is protected.
                        </p>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-body">
                        <h6 class="card-title mb-3">Order Items</h6>
                        <div class="d-flex mb-3">
                            <div class="flex-shrink-0" style="width: 60px;">
                                <img src="static/images/products/avocado-toast.jpg" alt="Avocado Toast" class="img-fluid rounded">
                            </div>
                            <div class="ms-3">
                                <h6 class="mb-0">Avocado Toast</h6>
                                <small class="text-muted">Qty: 1</small>
                                <div>$9.99</div>
                            </div>
                        </div>
                        <div class="d-flex">
                            <div class="flex-shrink-0" style="width: 60px;">
                                <img src="static/images/products/protein-bites.jpg" alt="Protein Bites" class="img-fluid rounded">
                            </div>
                            <div class="ms-3">
                                <h6 class="mb-0">Protein Bites</h6>
                                <small class="text-muted">Qty: 2</small>
                                <div>$13.98</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="termsModalLabel">Pay in 4 Terms</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>By using our Pay in 4 installment payment option, you agree to the following terms:</p>
            <ul>
              <li>Your first payment of 25% is charged at the time of purchase</li>
              <li>The remaining three payments will be automatically charged every two weeks</li>
              <li>No interest or additional fees will be charged</li>
              <li>Late payments may result in inability to use this payment method in the future</li>
              <li>Refunds will be applied to the remaining balance first</li>
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Order Confirmation Modal -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title" id="confirmationModalLabel">Order Placed Successfully!</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body text-center py-4">
            <i class="bi bi-check-circle-fill text-success" style="font-size: 3rem;"></i>
            <h4 class="mt-3">Thank You For Your Order!</h4>
            <p class="mb-1">Your order has been placed successfully.</p>
            <p class="mb-1">Order #: <strong id="orderNumber">ORD-12345</strong></p>
            <p>A confirmation email has been sent to your email address.</p>
            
            <div class="row mt-4">
              <div class="col-md-6 mb-3 mb-md-0">
                <div class="card">
                  <div class="card-body">
                    <h6 class="card-title">Shipping Information</h6>
                    <p class="mb-1 small" id="shippingName">John Doe</p>
                    <p class="mb-1 small" id="shippingAddress">123 Main St, Apt 4B</p>
                    <p class="mb-1 small" id="shippingCityState">Anytown, CA 12345</p>
                    <p class="mb-0 small" id="shippingPhone">(555) 123-4567</p>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card">
                  <div class="card-body">
                    <h6 class="card-title">Delivery Information</h6>
                    <p class="mb-1 small">Estimated Delivery Date:</p>
                    <p class="mb-1"><strong id="deliveryDateDisplay">April 15, 2023</strong></p>
                    <p class="mb-0 small text-success">
                      <i class="bi bi-truck me-1"></i>
                      Free shipping
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer justify-content-center">
            <a href="orders.html" class="btn btn-primary">View My Orders</a>
            <a href="index.html" class="btn btn-outline-secondary">Return to Home</a>
          </div>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>To-Go Healthy Meals</h5>
                    <p>Fresh, nutritious meals prepared by chefs and delivered to your door.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white">Dashboard</a></li>
                        <li><a href="products.html" class="text-white">Menu</a></li>
                        <li><a href="cart.html" class="text-white">Cart</a></li>
                        <li><a href="orders.html" class="text-white">My Orders</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <address>
                        123 Healthy Street<br>
                        Nutrition City, NC 28801<br>
                        Email: info@togohealthymeals.com<br>
                        Phone: (555) 123-4567
                    </address>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2023 To-Go Healthy Meals. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Handle payment method switching
        document.querySelectorAll('.payment-method').forEach(function(radio) {
            radio.addEventListener('change', function() {
                // Hide all payment method fields
                document.querySelectorAll('.payment-method-fields').forEach(function(fields) {
                    fields.classList.add('d-none');
                });
                
                // Show the selected payment method fields
                const target = this.getAttribute('data-target');
                document.getElementById(target).classList.remove('d-none');
            });
        });
        
        document.getElementById('submitOrder').addEventListener('click', function() {
            // Submit both forms
            if (document.getElementById('shippingForm').checkValidity() && 
                document.getElementById('paymentForm').checkValidity()) {
                
                // In a real app, we would submit the form data
                // For this demo, just show the confirmation modal
                
                // Populate confirmation data
                document.getElementById('orderNumber').textContent = 'ORD-' + Math.floor(10000 + Math.random() * 90000);
                document.getElementById('shippingName').textContent = document.getElementById('firstName').value + ' ' + document.getElementById('lastName').value;
                document.getElementById('shippingAddress').textContent = document.getElementById('address').value;
                document.getElementById('shippingCityState').textContent = document.getElementById('city').value + ', ' + document.getElementById('state').value + ' ' + document.getElementById('zip').value;
                document.getElementById('shippingPhone').textContent = document.getElementById('phone').value;
                document.getElementById('deliveryDateDisplay').textContent = new Date(document.getElementById('deliveryDate').value).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
                
                // Show the modal
                const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));
                confirmationModal.show();
            } else {
                // Trigger form validation
                document.getElementById('shippingForm').reportValidity();
                document.getElementById('paymentForm').reportValidity();
            }
        });
    </script>
</body>
</html>
